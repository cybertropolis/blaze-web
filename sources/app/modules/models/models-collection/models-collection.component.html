<mat-toolbar fxLayout="row">
    <span>
        Modelos
    </span>
    <div fxFlex></div>
    <button type="button" mat-icon-button color="accent" (click)="add()">
        <mat-icon>add</mat-icon>
    </button>
    <button type="button" mat-icon-button color="accent" (click)="refresh()" [disabled]="refreshing">
        <mat-icon>autorenew</mat-icon>
    </button>
</mat-toolbar>

<section>
    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource">
            <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef>Editar</th>
                <td mat-cell *matCellDef="let row">
                    <button type="button" mat-icon-button color="accent" (click)="details(row)">
                        <mat-icon>edit</mat-icon>
                    </button>
                </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Nome</th>
                <td mat-cell *matCellDef="let row">{{row.name}}</td>
            </ng-container>

            <ng-container matColumnDef="test">
                <th mat-header-cell *matHeaderCellDef>Testar</th>
                <td mat-cell *matCellDef="let row">
                    <button type="button" mat-icon-button color="accent" (click)="test(row)">
                        <mat-icon *ngIf="!row.situations.testing; else isTesting">done</mat-icon>
                        <ng-template #isTesting>
                            <mat-icon>stop</mat-icon>
                        </ng-template>
                    </button>
                </td>
            </ng-container>

            <ng-container matColumnDef="train">
                <th mat-header-cell *matHeaderCellDef>Treinar</th>
                <td mat-cell *matCellDef="let row">
                    <button type="button" mat-icon-button color="accent" (click)="train(row)">
                        <mat-icon *ngIf="!row.situations.training; else isTraining">done_all</mat-icon>
                        <ng-template #isTraining>
                            <mat-icon>stop</mat-icon>
                        </ng-template>
                    </button>
                </td>
            </ng-container>

            <ng-container matColumnDef="validate">
                <th mat-header-cell *matHeaderCellDef>Validar</th>
                <td mat-cell *matCellDef="let row">
                    <button type="button" mat-icon-button color="accent" (click)="validate(row)">
                        <mat-icon *ngIf="!row.situations.validating; else isValidating">done_outline</mat-icon>
                        <ng-template #isValidating>
                            <mat-icon>stop</mat-icon>
                        </ng-template>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</section>
